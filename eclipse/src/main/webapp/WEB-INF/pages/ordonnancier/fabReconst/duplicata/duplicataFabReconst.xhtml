<ui:composition xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
	 xmlns:p="http://primefaces.prime.com.tr/ui"
	 xmlns:c="http://java.sun.com/jsp/jstl/core"
     template="/WEB-INF/pages/template/template.xhtml">
     
     <ui:define name="title">
		<h:outputFormat value="#{resourceBundle['duplicataOrdonnancierFabReconst.title']}"/>
     </ui:define>
     
     <ui:define name="body"> 
     
		<h:form id="formDuplicataImpressionFabReconst" prependId="false">
     		
     		<fieldset style="width:960px;">
     			<p:messages />
     		</fieldset>
     		
   			<h:panelGroup id="tableSaisieCriteres">
     		<fieldset>
				<table class="stock large" cellpadding="0" cellspacing="0" border="0" width="100%">
			 		<tr>
			 			<td>					
							<h:panelGrid id="panelCriteres" columns="2" columnClasses="panelCol_50,panelCol_50" cellpadding="0" cellspacing="0" border="0" width="100%">
								
								<h:panelGrid id="panelPharmacie" columns="3" columnClasses="panelCol_20,panelCol_50,panelCol_30" cellpadding="0" cellspacing="0" border="0" width="100%">
									<h:outputLabel styleClass="mandatory" id="labelPharmacie" value="#{resourceBundle['ordonnancierFabReconst.pharmacie']}"/>
									<h:selectOneMenu converter="#{pharmacieConverter}" id="pharmacie" 
										value="#{duplicataOrdonnancierFabReconstManager.criteria.pharmacie}" styleClass="selectRadio" immediate="true"
										required="true" requiredMessage="#{resourceBundle['ordonnancier.pharmacie.notEmpty']}">
										<f:selectItem noSelectionOption="true" itemLabel="" itemValue="" />
										<f:selectItems value="#{duplicataOrdonnancierFabReconstManager.pharmacies}" var="pharmacie" itemLabel="#{pharmacie.nom}" itemValue="#{pharmacie}"/>
										<f:ajax listener="#{duplicataOrdonnancierFabReconstManager.handleSelectPharmacie}" render="panelOrdonnanciers" />
									</h:selectOneMenu>
									<h:panelGroup />
								</h:panelGrid>
								
								<h:panelGrid id="panelOrdonnanciers" columns="2" columnClasses="panelCol_30,panelCol_70" cellpadding="0" cellspacing="0" border="0" width="100%">
									<h:outputLabel id="labelDateDebut" for="ordonnancier" value="#{resourceBundle['ordonnancierFabReconst.ordonnancier.mandatory']}"/>
									<h:selectOneMenu converter="#{ordonnancierFabReconstConverter}" id="ordonnancier" 
										value="#{duplicataOrdonnancierFabReconstManager.ordonnancierSelected}" styleClass="selectRadio" immediate="true"
										required="true" requiredMessage="#{resourceBundle['ordonnancier.notEmpty']}">
										<f:selectItem noSelectionOption="true" itemLabel="" itemValue="" />
										<f:selectItems value="#{duplicataOrdonnancierFabReconstManager.beans}" var="ordonnancier" itemLabel="#{ordonnancier.description}" itemValue="#{ordonnancier}"/>
									</h:selectOneMenu>					
								</h:panelGrid>
								
							</h:panelGrid>
							
						</td>
					</tr>				
				</table>
				
		   		<div style="width:960px;">
					<!-- Bouton generation duplicata -->
				   	<div class="actionButton" style="margin-bottom:6px;margin-top:1px;">
						<p:commandButton id="duplicataOrdonnancierFabReconstButton" action="getDuplicataOrdonnancierFabReconst" ajax="false" 
							value="#{resourceBundle['btn.getDuplicataOrdonnancier']}" title="#{resourceBundle['btn.getDuplicataOrdonnancier']}" />
				 	</div>
			 	</div>					
				
			</fieldset>
		</h:panelGroup>
		</h:form>  
		   	
     </ui:define>
     
</ui:composition>